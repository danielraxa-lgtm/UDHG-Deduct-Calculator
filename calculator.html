<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Rate Calculator</title>
    <style>
        body { font-family: sans-serif; max-width: 600px; margin: 40px auto; padding: 20px; background: #f4f4f9; }
        .calculator { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h2 { margin-top: 0; color: #333; }
        label { display: block; margin-top: 15px; font-weight: bold; color: #555; }
        input, select { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        button { width: 100%; margin-top: 20px; padding: 12px; background: #2ea44f; color: white; border: none; border-radius: 4px; font-size: 16px; cursor: pointer; font-weight: bold; }
        button:hover { background: #2c974b; }
        #result { margin-top: 25px; padding: 20px; background: #e6ffed; border: 1px solid #b7ebc5; border-radius: 4px; display: none; }
        .total-price { font-size: 24px; color: #2ea44f; font-weight: bold; }
        .breakdown { font-size: 14px; color: #666; margin-top: 10px; }
    </style>
</head>
<body>

<div class="calculator">
    <h2>ðŸ§® Insurance Premium Calculator</h2>
    
    <label for="state">State</label>
    <select id="state">
        <option value="0.11">Arizona (AZ)</option>
        <option value="0.15">Colorado (CO)</option>
        <option value="0.22">Florida (FL)</option>
        <option value="0.18">Maryland (MD)</option>
        <option value="0.14">Michigan (MI)</option>
        <option value="0.25">New Jersey (NJ)</option>
        <option value="0.30">New York (NY)</option>
        <option value="0.20">Pennsylvania (PA)</option>
        <option value="0.12">Texas (TX)</option>
    </select>

    <label for="payroll">Gross Payroll ($)</label>
    <input type="number" id="payroll" placeholder="e.g. 50000">

    <label for="classCode">Class Code</label>
    <select id="classCode">
        <option value="clerical">8810 - Clerical (Base Rate)</option>
        <option value="other">Other (High Risk Rate)</option>
    </select>

    <button onclick="calculate()">Calculate Premium</button>

    <div id="result">
        <div>Total Estimated Premium:</div>
        <div class="total-price" id="totalDisplay">$0.00</div>
        <div class="breakdown" id="breakdownDisplay"></div>
    </div>
</div>

<script>
    // Rates from your documentation
    const otherRates = {
        "0.11": 1.05, "0.15": 1.20, "0.22": 1.45, "0.18": 1.10,
        "0.14": 1.00, "0.25": 1.50, "0.30": 1.75, "0.20": 1.35, "0.12": 0.95
    };

    function calculate() {
        const payroll = parseFloat(document.getElementById('payroll').value);
        let baseRate = parseFloat(document.getElementById('state').value);
        const type = document.getElementById('classCode').value;

        // If "Other" is selected, switch to the higher rate from the table
        if (type === 'other') {
            baseRate = otherRates[baseRate.toString()];
        }

        if (!payroll) { alert("Please enter payroll amount"); return; }

        // Math: (Payroll / 100) * Rate
        const wcPremium = (payroll / 100) * baseRate;
        
        // Fixed Costs: GL ($650) + Umbrella ($400)
        const fixedLiability = 650 + 400;
        
        const total = wcPremium + fixedLiability;

        // Display Results
        document.getElementById('result').style.display = 'block';
        document.getElementById('totalDisplay').innerText = '$' + total.toFixed(2);
        document.getElementById('breakdownDisplay').innerHTML = `
            Workers' Comp: $${wcPremium.toFixed(2)}<br>
            General Liability: $650.00<br>
            Umbrella: $400.00
        `;
    }
</script>

</body>
</html>
